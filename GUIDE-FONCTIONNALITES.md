# üá®üá¶ Guide Complet - Version Qu√©b√©coise Professionnelle

## üéâ Nouvelles Fonctionnalit√©s Ajout√©es

### 1. **Contexte Qu√©b√©cois Int√©gr√©** üçÅ

Chaque expert est maintenant adapt√© au Qu√©bec avec :

#### Lois et R√©glementations Qu√©b√©coises
- **Avocat** : Code civil du Qu√©bec, Barreau du Qu√©bec
- **Comptable** : Revenu Qu√©bec + ARC (f√©d√©ral)
- **Architecte** : Code de construction du Qu√©bec, RBQ
- **Courtier immobilier** : OACIQ, Centris
- **M√©decin** : Coll√®ge des m√©decins du Qu√©bec, RAMQ

#### Sources Fiables par M√©tier
Chaque professionnel r√©f√©rence les sources les plus fiables de son domaine qu√©b√©cois :

```javascript
profile: {
  sources: [
    "INESSS",              // Sant√©
    "Code civil du Qu√©bec", // Droit
    "Revenu Qu√©bec",       // Fiscalit√©
    // etc.
  ]
}
```

---

### 2. **Sidebar Professionnel** üìä

Une barre lat√©rale compl√®te affichant :

#### A. Profil de l'Expert
- Nom et titre professionnel
- Cr√©dences (ann√©es d'exp√©rience, ordres professionnels)
- Sp√©cialit√©s principales
- Sources fiables utilis√©es

#### B. Compteur de Temps ‚è±Ô∏è
- Timer en temps r√©el de la consultation
- Format : MM:SS
- Commence d√®s la s√©lection de l'expert

#### C. Points Cl√©s Importants üéØ
- Mise √† jour automatique pendant la conversation
- Extrait les informations cruciales
- Affiche les 5 derniers points importants
- Code d'extraction intelligent (peut √™tre am√©lior√© avec l'IA)

#### D. Questions Sugg√©r√©es üí°
- 4 exemples de questions par expert
- Cliquables pour remplir automatiquement le champ
- Adapt√©es au contexte qu√©b√©cois

#### E. Limites Importantes ‚ö†Ô∏è
- Liste claire de ce que l'expert peut/ne peut pas faire
- Rappels sur les consultations formelles
- Protection l√©gale et √©thique

---

### 3. **Logo JSL AI** üé®

Logo professionnel int√©gr√© :
```html
<div className="bg-gradient-to-r from-indigo-600 to-purple-600 text-white">
  <h1 className="text-xl font-bold">JSL AI</h1>
  <p className="text-xs opacity-90">Intelligence Artificielle</p>
</div>
```

Appara√Æt :
- En haut de chaque page
- Dans la sidebar
- Style gradient moderne indigo/violet

---

### 4. **Navigation Am√©lior√©e** üß≠

Syst√®me de navigation fluide en 3 niveaux :

1. **Secteurs** ‚Üí Vue en grille des domaines
2. **M√©tiers** ‚Üí S√©lection de l'expert sp√©cifique
3. **Chat** ‚Üí Interface de consultation

Boutons de retour intuitifs :
- `‚Üê Retour aux secteurs`
- `‚Üê Retour aux m√©tiers`
- Bouton "Nouveau" pour tout r√©initialiser

---

### 5. **R√©sum√© et Export Email** üìß

#### Bouton "Recevoir r√©sum√©"
- Ouvre une modal pour entrer l'email
- G√©n√®re un r√©sum√© complet automatiquement

#### Contenu du R√©sum√©
```
R√âSUM√â DE CONSULTATION
Expert: [Nom]
Dur√©e: [Temps]
Date: [Date]

CONVERSATION:
[Tous les messages]

POINTS CL√âS:
[Liste des points importants]
```

#### Solution d'Envoi
**Actuelle** : `mailto:` (ouvre le client email)
**Recommand√©e** : EmailJS (envoi automatique)
Voir `GUIDE-EMAIL.md` pour d√©tails

---

### 6. **M√©moire Conversationnelle** üß†

L'historique complet est maintenu :
```javascript
const [messages, setMessages] = useState([]);
```

**Caract√©ristiques** :
- ‚úÖ Tout l'historique pass√© √† Gemini √† chaque requ√™te
- ‚úÖ L'expert se souvient du contexte
- ‚úÖ Peut r√©f√©rencer des √©l√©ments ant√©rieurs
- ‚úÖ Coh√©rence de la conversation garantie

**Comment √ßa fonctionne** :
```javascript
const history = messages.map(msg => ({
  role: msg.role === 'assistant' ? 'model' : msg.role,
  parts: msg.parts
}));

// Envoi √† Gemini avec TOUT l'historique
body: JSON.stringify({
  contents: [...history, userMessage],
  systemInstruction: { parts: [{ text: profile.systemPrompt }] }
})
```

---

### 7. **Design Professionnel** ‚ú®

#### Palette de Couleurs par Secteur
Chaque secteur a sa propre identit√© visuelle :

```javascript
sante: {
  color: 'from-red-50 to-pink-100',
  borderColor: 'border-red-400'
}
```

- üè• Sant√© : Rouge/Rose
- ‚öñÔ∏è Juridique : Bleu/Indigo
- üíª Tech : Violet/Pourpre
- üèóÔ∏è Construction : Orange/Ambre
- üíº Business : Vert/√âmeraude
- üè† Immobilier : Teal/Cyan

#### Effets Visuels
- Hover avec scale (zoom)
- Transitions fluides
- Ombres dynamiques
- Gradients modernes
- Bordures color√©es au survol

---

## üìù Personnalisation

### Ajouter un Nouveau M√©tier Qu√©b√©cois

#### √âtape 1 : D√©finir dans `sectors`

```javascript
nouveauSecteur: {
  name: 'Votre Secteur',
  icon: 'üéØ',
  color: 'from-blue-50 to-indigo-100',
  borderColor: 'border-blue-400',
  bgColor: 'bg-blue-50',
  professions: [
    {
      id: 'votre_metier',
      name: 'Nom du M√©tier',
      icon: 'üë®‚Äçüíº',
      description: 'Description courte',
      color: 'bg-blue-100'
    }
  ]
}
```

#### √âtape 2 : Cr√©er le Profil dans `professionalProfiles`

```javascript
votre_metier: {
  profile: {
    name: "Pr√©nom Nom, Titre",
    credentials: "Cr√©dences - X ans d'exp√©rience",
    specialties: ["Sp√© 1", "Sp√© 2", "Sp√© 3"],
    sources: [
      "Source officielle QC 1",
      "Source officielle QC 2",
      "Source officielle QC 3"
    ]
  },
  
  systemPrompt: `Tu es [Nom], [profession] au Qu√©bec avec [X] ans d'exp√©rience.

CONTEXTE QU√âB√âCOIS IMPORTANT:
- [Lois et r√®glements sp√©cifiques au Qu√©bec]
- [Organismes de r√©glementation qu√©b√©cois]
- [Particularit√©s du march√© qu√©b√©cois]
- [Normes et standards qu√©b√©cois]

SOURCES FIABLES √Ä PRIVIL√âGIER:
- [Source officielle 1]
- [Source officielle 2]
- [Source officielle 3]
- [Bases de donn√©es pertinentes]

APPROCHE:
- [M√©thodologie de travail]
- [Questions √† poser]
- [Points √† noter]
- [Ressources √† recommander]
- [Format des r√©ponses]

Tu es [qualit√©s professionnelles]. Tu [style de communication].`,

  greeting: "Bonjour, [Nom], [profession]. [Question d'introduction]",
  
  examples: [
    "Question type 1 adapt√©e au Qu√©bec ?",
    "Question type 2 avec contexte QC ?",
    "Question type 3 sp√©cifique ?",
    "Question type 4 pratique ?"
  ],
  
  limits: [
    "Limite 1 importante",
    "Limite 2 √† respecter",
    "Limite 3 √©thique/l√©gale",
    "Limite 4 pratique"
  ]
}
```

---

### Adapter un M√©tier Existant au Qu√©bec

#### Rechercher les Sources Officielles

**Pour chaque profession, identifier** :

1. **Ordre Professionnel**
   - Ex: OAQ (Architectes), Barreau du Qu√©bec, OACIQ (Courtiers)
   - Site web officiel
   - Code de d√©ontologie

2. **Lois et R√®glements**
   - Code civil du Qu√©bec (droit)
   - Loi sur les imp√¥ts (fiscalit√©)
   - Code du b√¢timent (construction)

3. **Organismes Gouvernementaux**
   - Revenu Qu√©bec
   - RAMQ
   - R√©gie du b√¢timent (RBQ)

4. **Ressources Sp√©cialis√©es**
   - Bases de donn√©es (CanLII, SOQUIJ)
   - Guides de pratique
   - Publications officielles

#### Exemple : M√©decin au Qu√©bec

```javascript
systemPrompt: `[...]

CONTEXTE QU√âB√âCOIS IMPORTANT:
- Tu pratiques selon les normes du Coll√®ge des m√©decins du Qu√©bec
- Tu connais le syst√®me de sant√© qu√©b√©cois :
  * RAMQ (assurance maladie)
  * GMF (Groupes de m√©decine de famille)
  * Guichets d'acc√®s aux services
  * Info-Sant√© 811
- Tu r√©f√©rences les guides de l'INESSS (Institut national d'excellence)
- Tu es √† jour sur les recommandations de l'INSPQ (sant√© publique)

SOURCES FIABLES:
- INESSS (Institut national d'excellence en sant√© et services sociaux)
- INSPQ (Institut national de sant√© publique du Qu√©bec)
- Coll√®ge des m√©decins du Qu√©bec
- Guides de pratique CMFC (Coll√®ge des m√©decins de famille du Canada)
- UpToDate (m√©decine bas√©e sur les preuves)

[...]`
```

---

### Personnaliser les Points Cl√©s Automatiques

Actuellement, l'extraction est basique. Pour l'am√©liorer :

#### Option 1 : Mots-cl√©s (Actuel)

```javascript
const extractKeyPoints = (text) => {
  const points = [];
  
  // Chercher des mots-cl√©s importants
  const keywords = ['important', 'rappel', 'attention', 'noter', 'crucial', 'essentiel'];
  
  keywords.forEach(keyword => {
    if (text.toLowerCase().includes(keyword)) {
      // Extraire la phrase contenant le mot-cl√©
      const sentences = text.split('.').filter(s => s.includes(keyword));
      points.push(...sentences.map(s => s.trim() + '.'));
    }
  });
  
  return points.slice(0, 5); // Max 5 points
};
```

#### Option 2 : Demander √† Gemini (Meilleur)

```javascript
const extractKeyPoints = async (text) => {
  const prompt = `Extrait 3 points cl√©s importants de cette r√©ponse d'expert.
Format: Liste √† puces courte et claire.

R√©ponse: ${text}

Points cl√©s:`;

  const response = await fetch(
    `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${apiKey}`,
    {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        contents: [{ parts: [{ text: prompt }] }],
        generationConfig: { maxOutputTokens: 200 }
      })
    }
  );

  const data = await response.json();
  return data.candidates[0].content.parts[0].text
    .split('\n')
    .filter(line => line.trim().startsWith('-'))
    .map(line => line.replace(/^-\s*/, ''));
};
```

---

## üé® Personnalisation du Design

### Changer les Couleurs du Logo

```javascript
// Actuel
<div className="bg-gradient-to-r from-indigo-600 to-purple-600">

// Personnalis√© (exemple bleu/vert)
<div className="bg-gradient-to-r from-blue-600 to-teal-600">
```

### Modifier la Palette d'un Secteur

```javascript
sante: {
  // Couleurs d'origine
  color: 'from-red-50 to-pink-100',
  borderColor: 'border-red-400',
  bgColor: 'bg-red-50',
  
  // Nouvelle palette (exemple bleu)
  color: 'from-blue-50 to-sky-100',
  borderColor: 'border-blue-400',
  bgColor: 'bg-blue-50',
}
```

### Ajuster les Tailles

```javascript
// Ic√¥nes secteurs
<div className="text-6xl mb-4"> {/* Plus grand: text-8xl */}

// Ic√¥nes m√©tiers
<div className="text-5xl mb-3"> {/* Plus petit: text-4xl */}

// Sidebar
<div className="w-80"> {/* Plus large: w-96 ou w-1/4 */}
```

---

## üìä M√©triques et Statistiques

### Ajouter un Compteur de Messages

```javascript
const [messageCount, setMessageCount] = useState(0);

// Dans sendMessage(), apr√®s succ√®s:
setMessageCount(prev => prev + 1);

// Afficher dans la sidebar:
<div className="p-4 border-b">
  <p className="text-sm text-gray-600">
    Messages √©chang√©s: <span className="font-bold">{messageCount}</span>
  </p>
</div>
```

### Suivre les Consultations par Expert

```javascript
// Dans localStorage
useEffect(() => {
  if (selectedProfession) {
    const stats = JSON.parse(localStorage.getItem('consultStats') || '{}');
    stats[selectedProfession.id] = (stats[selectedProfession.id] || 0) + 1;
    localStorage.setItem('consultStats', JSON.stringify(stats));
  }
}, [selectedProfession]);
```

---

## üîç Sources Fiables par Domaine au Qu√©bec

### Sant√©
- **INESSS** : https://www.inesss.qc.ca
- **INSPQ** : https://www.inspq.qc.ca
- **Coll√®ge des m√©decins** : https://www.cmq.org
- **Ordre des pharmaciens** : https://www.opq.org

### Droit
- **Barreau du Qu√©bec** : https://www.barreau.qc.ca
- **Code civil du Qu√©bec** : http://legisquebec.gouv.qc.ca
- **CanLII** (jurisprudence) : https://www.canlii.org
- **√âducaloi** : https://educaloi.qc.ca
- **SOQUIJ** : https://soquij.qc.ca

### Fiscalit√©
- **Revenu Qu√©bec** : https://www.revenuquebec.ca
- **ARC** (f√©d√©ral) : https://www.canada.ca/fr/agence-revenu.html
- **CPA Qu√©bec** : https://cpaquebec.ca

### Construction
- **RBQ** : https://www.rbq.gouv.qc.ca
- **Code de construction** : http://legisquebec.gouv.qc.ca
- **OAQ** (architectes) : https://www.oaq.com

### Immobilier
- **OACIQ** : https://www.oaciq.com
- **Centris** : https://www.centris.ca
- **JLR** (statistiques) : https://www.jlr.ca

### Entrepreneuriat
- **Investissement Qu√©bec** : https://www.investquebec.com
- **PME MTL** : https://pmemtl.com
- **BDC** : https://www.bdc.ca
- **REQ** : https://www.registreentreprises.gouv.qc.ca

---

## üöÄ D√©ploiement

### Fichiers Modifi√©s

Pour utiliser la nouvelle version :

1. **Remplacer** `App.jsx` par `expert-chatbot-pro-v2.jsx`
2. **Garder** tous les autres fichiers identiques
3. **Tester** en local : `npm run dev`
4. **D√©ployer** : `git push` ‚Üí Vercel red√©ploie automatiquement

### Checklist de V√©rification

- [ ] Logo JSL AI visible partout
- [ ] Sidebar s'affiche correctement
- [ ] Timer fonctionne
- [ ] Points cl√©s s'ajoutent
- [ ] Questions sugg√©r√©es cliquables
- [ ] Limites affich√©es
- [ ] Profil expert complet
- [ ] Sources list√©es
- [ ] Modal email fonctionne
- [ ] Navigation fluide
- [ ] Contexte qu√©b√©cois dans les r√©ponses

---

## üí° Am√©liorations Futures Possibles

### 1. Base de Donn√©es des Consultations
- Sauvegarder l'historique c√¥t√© serveur
- Reprendre une consultation pr√©c√©dente
- Statistiques d'utilisation

### 2. Syst√®me de Notes
- L'utilisateur peut prendre des notes pendant la consultation
- Export des notes avec le r√©sum√©

### 3. Recherche dans l'Historique
- Chercher dans les anciennes conversations
- Filtrer par expert ou date

### 4. Notifications
- Rappels de suivi
- Suggestions de ressources apr√®s consultation

### 5. Multi-langue
- Interface en anglais
- Experts bilingues (FR/EN)

---

## ‚ùì FAQ Technique

### "Comment l'expert se souvient-il du contexte ?"

L'historique complet est envoy√© √† Gemini √† chaque message :
```javascript
contents: [...history, userMessage]
```

Gemini voit tout l'historique et maintient la coh√©rence.

### "Les points cl√©s sont-ils intelligents ?"

Actuellement basique (mots-cl√©s). Pour am√©liorer, utiliser Gemini pour l'extraction (voir Option 2 ci-dessus).

### "Puis-je limiter la dur√©e de consultation ?"

Oui, ajoutez une limite de temps :
```javascript
useEffect(() => {
  if (elapsedTime >= 3600) { // 1 heure
    alert('Consultation termin√©e - dur√©e maximale atteinte');
    // Actions de fin
  }
}, [elapsedTime]);
```

### "Comment masquer certains m√©tiers ?"

Commentez ou supprimez dans `sectors` :
```javascript
professions: [
  // { id: 'metier_cache', ... }, // Masqu√©
  { id: 'metier_visible', ... }
]
```

---

## üéâ R√©sum√© des Fonctionnalit√©s

‚úÖ **6 secteurs** avec experts qu√©b√©cois  
‚úÖ **Contexte qu√©b√©cois** dans chaque prompt  
‚úÖ **Sources fiables** list√©es par m√©tier  
‚úÖ **Sidebar professionnelle** compl√®te  
‚úÖ **Timer** de consultation en temps r√©el  
‚úÖ **Points cl√©s** extraits automatiquement  
‚úÖ **Questions sugg√©r√©es** cliquables  
‚úÖ **Limites** clairement affich√©es  
‚úÖ **Logo JSL AI** partout  
‚úÖ **Navigation fluide** 3 niveaux  
‚úÖ **M√©moire** conversationnelle int√©gr√©e  
‚úÖ **Export email** du r√©sum√©  
‚úÖ **Design professionnel** moderne  

---

**Votre application est maintenant une plateforme de consultation professionnelle qu√©b√©coise de niveau entreprise !** üöÄ

Pour toute question : consultez les autres guides ou le code source comment√©.
